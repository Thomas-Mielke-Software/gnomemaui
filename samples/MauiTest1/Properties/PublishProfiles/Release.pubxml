<Project>
    <PropertyGroup>
        <Configuration>Release</Configuration>
        <Platform>Any CPU</Platform>
        <PublishDir>../publish</PublishDir>
        <PublishProtocol>FileSystem</PublishProtocol>
        <_TargetId>Folder</_TargetId>
        <TargetFramework>net10.0</TargetFramework>
        <RuntimeIdentifier>linux-x64</RuntimeIdentifier>
        <SelfContained>true</SelfContained>
        <PublishSingleFile>true</PublishSingleFile>
        <DebugType>None</DebugType>
        <DebugSymbols>False</DebugSymbols>
        <PublishAot>true</PublishAot>
        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
    </PropertyGroup>

    <!-- linux-arm64 -->
    <PropertyGroup Condition="'$(RuntimeIdentifier)' == 'linux-arm64'">
        <PublishDir>../publish/aarch64/glibc</PublishDir>
        <CppCompilerAndLinker>aarch64-linux-gcc</CppCompilerAndLinker>
        <SysRoot>/opt/dotnet-aot-xc/linux-arm64/aarch64-buildroot-linux-gnu/sysroot</SysRoot>
        <ObjCopyName>aarch64-buildroot-linux-gnu-objcopy</ObjCopyName>
    </PropertyGroup>

    <!-- linux-x64 glibc -->
    <PropertyGroup Condition="'$(RuntimeIdentifier)' == 'linux-x64'">
        <PublishDir>../publish/x86_64/glibc</PublishDir>
        <CppCompilerAndLinker>x86_64-buildroot-linux-gnu-gcc</CppCompilerAndLinker>
        <CppLinker>x86_64-buildroot-linux-gnu-ld.bfd</CppLinker>
        <SysRoot>/opt/dotnet-aot-xc/linux-x64/x86_64-buildroot-linux-gnu/sysroot</SysRoot>
        <ObjCopyName>x86_64-buildroot-linux-gnu-objcopy</ObjCopyName>
    </PropertyGroup>
</Project>
